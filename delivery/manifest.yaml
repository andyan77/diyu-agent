# DIYU Agent Delivery Manifest (SSOT)
# See: docs/governance/execution-plan-v1.0.md Section C

schema_version: "1.0"
product:
  name: "Diyu Agent"
  version: "0.1.0"
  description: "AI-powered intelligent work assistant platform"

deployment_modes:
  - id: saas
    description: "Multi-tenant SaaS deployment"
    auth: "HttpOnly Cookie"
  - id: private
    description: "Single-tenant private deployment"
    auth: "In-memory token"

architecture:
  layers:
    - brain_memory
    - knowledge
    - skill
    - tool
    - gateway
    - infrastructure
  day1_ports:
    - MemoryCorePort
    - KnowledgePort
    - LLMCallPort
    - SkillRegistry
    - OrgContext
    - StoragePort

tech_stack:
  backend:
    language: "Python 3.12"
    framework: "FastAPI"
    orm: "SQLAlchemy 2.0"
    migration: "Alembic"
    package_manager: "uv"
  frontend:
    framework: "Next.js 15"
    language: "TypeScript 5.x (strict)"
    monorepo: "Turborepo + pnpm"
    apps:
      - web   # User-facing (port 3000)
      - admin # Admin console (port 3001)
    packages:
      - "@diyu/ui"
      - "@diyu/api-client"
      - "@diyu/shared"
  database:
    primary: "PostgreSQL 16 + pgvector"
    cache: "Redis"
    knowledge_graph: "Neo4j"
    vector_store: "Qdrant"

current_phase: "phase_3"
milestone_matrix: "delivery/milestone-matrix.yaml"
governance_spec: "docs/governance/task-card-schema-v1.0.md"
execution_plan: "docs/governance/execution-plan-v1.0.md"
